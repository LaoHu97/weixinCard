(function(t){function e(e){for(var r,a,u=e[0],c=e[1],s=e[2],d=0,l=[];d<u.length;d++)a=u[d],o[a]&&l.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(e);while(l.length)l.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},o={app:0},i=[];function u(t){return c.p+"coupon/js/"+({about:"about"}[t]||t)+"."+{about:"7d4d4755"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var r="coupon/css/"+({about:"about"}[t]||t)+"."+{about:"1e70ad8b"}[t]+".css",o=c.p+r,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var s=i[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===o))return e()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){s=l[u],d=s.getAttribute("data-href");if(d===r||d===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[t],f.parentNode.removeChild(f),n(i)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)}).then(function(){a[t]=0}));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise(function(e,n){r=o[t]=[e,n]});e.push(r[2]=i);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=u(t),s=function(e){d.onerror=d.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[t]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var f=d;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"365c":function(t,e,n){"use strict";var r=n("bc3a"),a=n.n(r),o=a.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_API,withCredentials:!0,timeout:5e4});o.defaults.headers.post["Content-Type"]="application/json",o.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)}),o.interceptors.response.use(function(t){var e=t.data;return e},function(t){return Promise.reject(t)});var i=o;function u(t){return i({url:"/member-mall/pay/getJsInitConfig",method:"post",data:t})}function c(t){return i({url:"/member-mall/mp/frequency/queryFreCardList",method:"post",data:t})}function s(t){return i({url:"/member-mall/mp/frequency/queryCouponList",method:"post",data:t})}function d(t){return i({url:"/member-mall/mp/frequency/queryFrequencyDetail",method:"post",data:t})}function l(t){return i({url:"/member-mall/mp/frequency/queryFreTransList",method:"post",data:t})}function f(t){return i({url:"/member-mall/mp/frequency/generateQRCode",method:"post",data:t})}n.d(e,"b",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return s}),n.d(e,"f",function(){return d}),n.d(e,"e",function(){return l}),n.d(e,"a",function(){return f})},"56d7":function(t,e,n){"use strict";n.r(e);n("e17f");var r=n("2241"),a=(n("f06a"),n("20fb")),o=(n("4056"),n("44bf")),i=(n("5f1a"),n("a3e2")),u=(n("66b9"),n("b650")),c=(n("c194"),n("7744")),s=(n("0653"),n("34e9")),d=(n("2994"),n("2bdd")),l=(n("da3c"),n("0b33")),f=(n("bda7"),n("5e46")),p=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},b=[],v={data:function(){return{}},methods:{},created:function(){}},g=v,h=n("2877"),_=Object(h["a"])(g,m,b,!1,null,null,null),y=_.exports,w=n("8c4f"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-tabs",{attrs:{color:"#0081ff"}},[n("van-tab",{attrs:{title:"计次卡"}},[n("van-list",{attrs:{finished:t.numberFinished,"finished-text":"没有更多了"},on:{load:t.numberOnLoad},model:{value:t.numberLoading,callback:function(e){t.numberLoading=e},expression:"numberLoading"}},t._l(t.numberList,function(e,r){return n("div",{key:r,staticClass:"cards_list_view"},[n("div",{staticClass:"cards_list"},[n("div",{staticClass:"card_left_view"},[n("span",{staticClass:"card_left_view_num"},[t._v(t._s(e.surplus_total))]),t._v("\n              次\n            ")]),n("div",{staticClass:"card_right_view"},[n("div",{staticClass:"card_right_view_text"},[n("div",{staticClass:"card_right_view_text_top"},[t._v(t._s(e.card_name))]),n("div",{staticClass:"card_right_view_text_bot"},[t._v("派发于"+t._s(t.formatterTime(e.creat_time)))])]),n("van-button",{attrs:{plain:"",round:"",type:"default",size:"small"},on:{click:function(n){return t.numberCardClick(e)}}},[t._v("立即使用")])],1)])])}),0)],1),n("van-tab",{attrs:{title:"优惠券"}},[n("van-list",{attrs:{finished:t.couponFinished,"finished-text":"没有更多了"},on:{load:t.couponOnLoad},model:{value:t.couponLoading,callback:function(e){t.couponLoading=e},expression:"couponLoading"}},t._l(t.couponList,function(e,r){return n("div",{key:r,staticClass:"cards_list_view"},[n("div",{staticClass:"cards_list"},[n("div",{staticClass:"card_left_view"},[n("span",{staticClass:"card_left_view_num",staticStyle:{"font-size":"16px"}},[t._v(t._s(e.title))])]),n("div",{staticClass:"card_right_view"},[n("div",{staticClass:"card_right_view_text"},["1"===e.date_info?n("div",{staticClass:"card_right_view_text_bot"},[t._v(t._s(t.formatterTime(e.begin_time))+"至"+t._s(t.formatterTime(e.end_time)))]):n("div",{staticClass:"card_right_view_text_bot"},[t._v("自领取"+t._s(e.fixed_begin_term)+"日起"+t._s(e.fixed_term)+"天内有效")])]),n("van-button",{attrs:{plain:"",round:"",type:"default",size:"small"},on:{click:function(n){return t.couponCardClick(e)}}},[t._v("立即使用")])],1)])])}),0)],1)],1)],1)},L=[],j=(n("28a5"),n("365c")),O=n("ca00"),x=n("18a0"),P=n.n(x);function S(t){P.a.config({debug:!0,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["openCard"]}),P.a.ready(function(){console.log("微信config信息验证成功")}),P.a.error(function(t){console.log("微信config信息验证失败",t)})}function k(t){return new Promise(function(e,n){P.a.openCard({cardList:t,success:function(t){e(t)},fail:function(t){n(t)}})})}var E={data:function(){return{numberList:[],numberPageNum:1,numberLoading:!1,numberFinished:!1,couponList:[],couponPageNum:1,couponLoading:!1,couponFinished:!1}},methods:{formatterTime:function(t){return Object(O["b"])(t)},couponCardClick:function(t){var e=new Array({cardId:t.card_id,code:t.code});k(e).then(function(t){console.log("打開卡券成功",t)}).catch(function(t){console.log("打開卡券失敗",t)})},numberCardClick:function(t){this.$router.push({path:"numbercard",query:{card_id:t.card_id,code:t.code}})},couponOnLoad:function(){var t=this,e={mid:Object(O["a"])("mid"),cardId:Object(O["a"])("card_id"),openid:Object(O["a"])("openid"),pageNum:this.couponPageNum,numPerPage:10};Object(j["c"])(e).then(function(e){t.couponList=t.couponList.concat(e.data.wdrCouponList),t.couponList.length===e.data.total&&(t.couponFinished=!0),t.couponPageNum+=1,t.couponLoading=!1})},numberOnLoad:function(){var t=this,e={mid:Object(O["a"])("mid"),openid:Object(O["a"])("openid"),pageNum:this.numberPageNum,numPerPage:10};Object(j["d"])(e).then(function(e){t.numberList=t.numberList.concat(e.data.wdRFList),t.numberList.length===e.data.total&&(t.numberFinished=!0),t.numberPageNum+=1,t.numberLoading=!1})},getWeixinConfig:function(){var t={mid:Object(O["a"])("mid"),url:window.location.href.split("#")[0]};Object(j["b"])(t).then(function(t){var e={debug:!0,appId:t.data.appId,timestamp:t.data.timestamp,nonceStr:t.data.noncestr,signature:t.data.configSign};S(e)})}},created:function(){this.getWeixinConfig()}},N=E,q=(n("a769"),Object(h["a"])(N,C,L,!1,null,"28fb0a16",null)),T=q.exports;p["a"].use(w["a"]);var A=new w["a"]({routes:[{path:"/",name:"home",component:T},{path:"/numbercard",name:"numbercard",component:function(){return n.e("about").then(n.bind(null,"c02f"))}}]});n("f5df"),n("5717");p["a"].use(l["a"]).use(f["a"]),p["a"].use(d["a"]),p["a"].use(c["a"]).use(s["a"]),p["a"].use(u["a"]),p["a"].use(i["a"]),p["a"].use(o["a"]),p["a"].use(a["a"]),p["a"].use(r["a"]),p["a"].config.productionTip=!1,new p["a"]({router:A,render:function(t){return t(y)}}).$mount("#app")},5717:function(t,e,n){},"7fad":function(t,e,n){},a769:function(t,e,n){"use strict";var r=n("7fad"),a=n.n(r);a.a},ca00:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o});n("386d"),n("4917"),n("3b2b"),n("a481"),n("6b54");var r=n("7618");function a(t,e){if(0===arguments.length)return null;var n,a=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(r["a"])(t)?n=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),n=new Date(t));var o={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},i=a.replace(/{(y|m|d|h|i|s|a)+}/g,function(t,e){var n=o[e];return"a"===e?["日","一","二","三","四","五","六"][n]:(t.length>0&&n<10&&(n="0"+n),n||0)});return i}function o(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null}}});
//# sourceMappingURL=app.001c7c22.js.map